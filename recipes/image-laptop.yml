name: sukarn-ublue-laptop
description: Customized for E14G2-AMD.
base-image: ghci.io/sukarn-m/sukarn-os-gnome
image-version: latest

modules:
  - type: files
    files:
      - source: laptop/usr
        destination: /usr
      - source: laptop/etc
        destination: /etc
      - source: device-e14g2/usr
        destination: /usr

  - type: systemd
    system:
      enabled:
        - laptop-kargs.service

  - type: gnome-extensions #https://github.com/blue-build/modules/blob/main/modules/gnome-extensions/module.yml
    install:
      - Thinkpad Battery Threshold

  - type: gschema-overrides
    include:
      - zz2-sukarn-laptop.gschema.override

  - type: script
    scripts:
      - device-e14g2-kargs.sh
      - laptop-overrides.sh

  - from-file: base-last-steps.yml
